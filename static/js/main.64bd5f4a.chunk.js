(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(7),i=a.n(r),l=a(9),c=a(1),s=a(2),u=a(4),d=a(3),p=a(5),m=a(8),h=a.n(m),v=(a(16),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onClick=function(t){var a=t.clientX,o=e.props.onClick,n=e.progressContainer.current;o((a-n.getBoundingClientRect().left)/n.clientWidth)},e.onKeyDown=function(t){var a=t.keyCode,o=e.props,n=o.percent,r=o.onClick;switch(a){case 37:case 40:r(Math.max(n-.05,0));break;case 38:case 39:r(Math.min(n+.05,.9999))}},e.progressContainer=n.a.createRef(),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.percent,a=e.strokeColor,o=e.strokeWidth;return n.a.createElement("div",{ref:this.progressContainer,role:"progressbar",tabIndex:"-1",className:"progress",style:{height:"".concat(o,"px")},onClick:this.onClick,onKeyDown:this.onKeyDown},n.a.createElement("div",{className:"progress-inner",style:{width:"".concat(100*t,"%"),backgroundColor:a}}))}}]),t}(o.Component));v.defaultProps={percent:0,strokeColor:"#9b9b9b",strokeWidth:2};a(17);var y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateProgress=function(){var e=a.audioContainer.current,t=e.duration,o=e.currentTime,n=o/t||0;a.setState({progress:n,leftTime:t-o})},a.end=function(){a.handleNext()},a.handleAdjustProgress=function(e){var t=a.audioContainer.current.duration*e;a.audioContainer.current.currentTime=t,a.setState({play:!0,progress:e},function(){return a.audioContainer.current.play()})},a.handleAdjustVolume=function(e){var t=e<0?0:e;a.audioContainer.current.volume=t,a.setState({volume:t})},a.handleToggle=function(){a.state.play?a.audioContainer.current.pause():a.audioContainer.current.play(),a.setState(function(e){return{play:!e.play}})},a.handlePrev=function(){var e=a.props.playlist,t=a.state,o=t.playMode,n=t.activeMusicIndex;if("repeat"===o)a.playMusic(n);else if("loop"===o){var r=e.length,i=n>0?n-1:r-1;a.playMusic(i)}else if("random"===o){for(var l=Math.floor(Math.random()*e.length);l===n;)l=Math.floor(Math.random()*e.length);a.playMusic(l)}else a.setState({play:!1})},a.handleNext=function(){var e=a.props.playlist,t=a.state,o=t.playMode,n=t.activeMusicIndex;if("repeat"===o)a.playMusic(n);else if("loop"===o){var r=n<e.length-1?n+1:0;a.playMusic(r)}else if("random"===o){for(var i=Math.floor(Math.random()*e.length);i===n;)i=Math.floor(Math.random()*e.length);a.playMusic(i)}else a.setState({play:!1})},a.handleChangePlayMode=function(){var e=a.state.playMode,t=a.modeList.indexOf(e);t=(t+1)%a.modeList.length,a.setState({playMode:a.modeList[t]})},a.playMusic=function(e){a.setState({activeMusicIndex:e,leftTime:0,play:!0,progress:0},function(){a.audioContainer.current.currentTime=0,a.audioContainer.current.play()})},a.state={activeMusicIndex:0,leftTime:0,play:e.autoplay||!1,playMode:"loop",progress:0,volume:1},a.modeList=["loop","random","repeat"],a.audioContainer=n.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.audioContainer.current.addEventListener("timeupdate",this.updateProgress),this.audioContainer.current.addEventListener("ended",this.end)}},{key:"componentWillUnmount",value:function(){this.audioContainer.current.removeEventListener("timeupdate",this.updateProgress),this.audioContainer.current.removeEventListener("ended",this.end)}},{key:"render",value:function(){var e=this.props,t=e.playlist,a=e.mode,o=e.width,r=e.progressColor,i=e.btnColor,c=e.style,s=this.state,u=s.play,d=s.progress,p=s.leftTime,m=s.volume,y=s.activeMusicIndex,f=s.playMode,g=t[y],C=function(e){return"loop"===e?"refresh":"random"===e?"random":"repeat"}(f),k={color:i};return n.a.createElement("div",{className:h()("player",{vertical:"vertical"===a}),style:Object(l.a)({},c,{width:"string"===typeof o?o:"".concat(o,"px")})},n.a.createElement("audio",{autoPlay:u,preload:"auto",ref:this.audioContainer,src:g.url},n.a.createElement("track",{kind:"captions"})),n.a.createElement("div",{className:"player-control"},n.a.createElement("div",{className:"music-info"},n.a.createElement("h2",{className:"title"},g.title),n.a.createElement("h3",{className:"artist"},g.artist.join(" / "))),n.a.createElement("div",{className:"time-and-volume"},n.a.createElement("div",{className:"time-remaining"},"-",function(e){if(isNaN(e)||0===e)return"";var t=Math.floor(e/60),a=(e%60).toFixed();return"".concat(t<10?"0":"").concat(t,":").concat(a<10?"0":"").concat(a)}(p)),n.a.createElement("div",{className:"volume-control"},n.a.createElement("i",{className:"volume-icon fa fa-volume-up"}),n.a.createElement("div",{className:"volume-bar"},n.a.createElement(v,{percent:m,onClick:this.handleAdjustVolume})))),n.a.createElement(v,{percent:d,strokeColor:r,onClick:this.handleAdjustProgress}),n.a.createElement("div",{className:"controls"},n.a.createElement("button",{type:"button",className:"fa fa-".concat(C),style:k,onClick:this.handleChangePlayMode}),n.a.createElement("button",{type:"button",className:"fa fa-step-backward",style:k,onClick:this.handlePrev}),n.a.createElement("button",{type:"button",className:"fa fa-".concat(u?"pause":"play"),style:k,onClick:this.handleToggle}),n.a.createElement("button",{type:"button",className:"fa fa-step-forward",style:k,onClick:this.handleNext}))),n.a.createElement("div",{className:"player-cover",style:{backgroundImage:"url(".concat(g.cover,")")}}))}}]),t}(o.Component);y.defaultProps={mode:"horizontal",width:"100%",autoplay:!1,progressColor:"#66cccc",btnColor:"#4a4a4a",style:{}};var f=[{url:"http://res.cloudinary.com/alick/video/upload/v1502689683/Luis_Fonsi_-_Despacito_ft._Daddy_Yankee_uyvqw9.mp3",cover:"http://res.cloudinary.com/alick/image/upload/v1502689731/Despacito_uvolhp.jpg",title:"Despacito",artist:["Luis Fonsi","Daddy Yankee"]},{url:"http://res.cloudinary.com/alick/video/upload/v1502375674/Bedtime_Stories.mp3",cover:"http://res.cloudinary.com/alick/image/upload/v1502375978/bedtime_stories_bywggz.jpg",title:"Bedtime Stories",artist:["Jay Chou"]},{url:"http://res.cloudinary.com/alick/video/upload/v1502444212/Actor_ud8ccw.mp3",cover:"http://res.cloudinary.com/alick/image/upload/v1502444304/actor_umzdur.jpg",title:"\u6f14\u5458",artist:["\u859b\u4e4b\u8c26"]},{url:"http://res.cloudinary.com/alick/video/upload/v1502444215/Bridge_of_Fate_aaksg1.mp3",cover:"http://res.cloudinary.com/alick/image/upload/v1502444306/Bridge_of_Fate_o36rem.jpg",title:"Bridge of Fate",artist:["\u738b\u529b\u5b8f","\u8c2d\u7ef4\u7ef4"]},{url:"http://res.cloudinary.com/alick/video/upload/v1502444222/Goodbye_byaom5.mp3",cover:"http://res.cloudinary.com/alick/image/upload/v1502444310/Goodbye_hpubmk.jpg",title:"Goodbye",artist:["G.E.M."]}],g=function(){return n.a.createElement("div",{style:{width:"600px",marginBottom:"60px"}},n.a.createElement(y,{playlist:f}))},C=function(){return n.a.createElement(y,{playlist:f,mode:"vertical",width:320})};i.a.render(n.a.createElement(function(){return n.a.createElement("div",null,n.a.createElement(g,null),n.a.createElement(C,null))},null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.64bd5f4a.chunk.js.map